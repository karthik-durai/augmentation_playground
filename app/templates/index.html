<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Augmentation Playground</title>
  <link rel="stylesheet" href="/static/css/styles.css" />
</head>

<body>
  <main class="page">
    <div class="topbar">
      <header class="hero">
        <p class="eyebrow">Augmentation Playground</p>
      </header>

      <section class="picker-card">
        <div class="uploader uploader-compact">
          <input id="file-input" type="file" accept=".nii,.nii.gz,application/gzip,application/octet-stream" />
          <label for="file-input" class="button">Choose file</label>
          <span class="file-meta" id="file-meta">No file selected.</span>
        </div>
      </section>
    </div>

    <section class="workspace">
      <div class="workspace-grid">
        <div class="column">
          <div class="column-header">
            <h3>Selected image</h3>
            <div class="status" id="viewer-status">Awaiting image</div>
          </div>
          <div class="control-group">
            <h4>View</h4>
            <div class="control">
              <label for="axis-select">Axis</label>
              <select id="axis-select">
                <option value="axial" selected>Axial</option>
                <option value="coronal">Coronal</option>
                <option value="sagittal">Sagittal</option>
              </select>
            </div>
            <div class="control">
              <label for="slice-range">Slice <span id="slice-value">0</span></label>
              <input id="slice-range" type="range" min="0" max="0" value="0" />
            </div>
          </div>
          <div class="panel-slot panel-large">
            <canvas id="canvas-selected" width="1200" height="520"></canvas>
          </div>
        </div>
        <div class="column">
          <div class="column-header">
            <h3>Augmentation controls</h3>
          </div>
          <div class="panel-slot panel-large">
            <div class="controls">
              <details class="accordion" open>
                <summary>Spatial</summary>
                <div class="accordion-body" data-group="spatial">
                  <label class="transform-row" data-name="RandomFlip">
                    <input type="checkbox" id="flip-enabled" />
                    <span>RandomFlip</span>
                    <span class="transform-params">axes=lr · p=0.5</span>
                    <div class="transform-inputs">
                      <label>Axis
                        <select id="flip-axis">
                          <option value="LR" selected>LR</option>
                          <option value="AP">AP</option>
                          <option value="IS">IS</option>
                        </select>
                      </label>
                      <label>P
                        <input id="flip-p" type="range" min="0" max="1" step="0.05" value="0.5" />
                        <span class="range-value" data-for="flip-p">0.5</span>
                      </label>
                    </div>
                  </label>
                  <label class="transform-row" data-name="RandomAffine">
                    <input type="checkbox" id="affine-enabled" />
                    <span>RandomAffine</span>
                    <span class="transform-params">scales=0.9–1.1 · degrees=10</span>
                    <div class="transform-inputs">
                      <label>Scale min
                        <input id="affine-scale-min" type="range" min="0.5" max="1.5" step="0.05" value="0.9" />
                        <span class="range-value" data-for="affine-scale-min">0.9</span>
                      </label>
                      <label>Scale max
                        <input id="affine-scale-max" type="range" min="0.5" max="1.5" step="0.05" value="1.1" />
                        <span class="range-value" data-for="affine-scale-max">1.1</span>
                      </label>
                      <label>Degrees
                        <input id="affine-degrees" type="range" min="0" max="45" step="1" value="10" />
                        <span class="range-value" data-for="affine-degrees">10</span>
                      </label>
                      <label>Translation
                        <input id="affine-translation" type="range" min="0" max="20" step="1" value="5" />
                        <span class="range-value" data-for="affine-translation">5</span>
                      </label>
                    </div>
                  </label>
                  <label class="transform-row" data-name="RandomElasticDeformation">
                    <input type="checkbox" id="elastic-enabled" />
                    <span>RandomElasticDeformation</span>
                    <span class="transform-params">control_points=7 · max_displacement=7</span>
                    <div class="transform-inputs">
                      <label>Control points
                        <input id="elastic-control-points" type="range" min="3" max="15" step="1" value="7" />
                        <span class="range-value" data-for="elastic-control-points">7</span>
                      </label>
                      <label>Max displacement
                        <input id="elastic-max-displacement" type="range" min="1" max="15" step="1" value="7" />
                        <span class="range-value" data-for="elastic-max-displacement">7</span>
                      </label>
                    </div>
                  </label>
                  <label class="transform-row" data-name="RandomAnisotropy">
                    <input type="checkbox" id="anisotropy-enabled" />
                    <span>RandomAnisotropy</span>
                    <span class="transform-params">axes=2 · downsampling=2</span>
                    <div class="transform-inputs">
                      <label>Axis
                        <select id="anisotropy-axis">
                          <option value="0">0 (LR)</option>
                          <option value="1">1 (AP)</option>
                          <option value="2" selected>2 (IS)</option>
                        </select>
                      </label>
                      <label>Downsampling
                        <input id="anisotropy-downsampling" type="range" min="1" max="4" step="1" value="2" />
                        <span class="range-value" data-for="anisotropy-downsampling">2</span>
                      </label>
                    </div>
                  </label>
                  <label class="transform-row" data-name="RandomMotion">
                    <input type="checkbox" id="motion-enabled" />
                    <span>RandomMotion</span>
                    <span class="transform-params">degrees=10 · translation=10</span>
                    <div class="transform-inputs">
                      <label>Degrees
                        <input id="motion-degrees" type="range" min="0" max="45" step="1" value="10" />
                        <span class="range-value" data-for="motion-degrees">10</span>
                      </label>
                      <label>Translation
                        <input id="motion-translation" type="range" min="0" max="20" step="1" value="10" />
                        <span class="range-value" data-for="motion-translation">10</span>
                      </label>
                      <label>Transforms
                        <input id="motion-num" type="range" min="1" max="5" step="1" value="2" />
                        <span class="range-value" data-for="motion-num">2</span>
                      </label>
                    </div>
                  </label>
                  <label class="transform-row" data-name="RandomGhosting">
                    <input type="checkbox" id="ghosting-enabled" />
                    <span>RandomGhosting</span>
                    <span class="transform-params">num_ghosts=4 · intensity=0.5</span>
                    <div class="transform-inputs">
                      <label>Ghosts
                        <input id="ghosting-num" type="range" min="1" max="8" step="1" value="4" />
                        <span class="range-value" data-for="ghosting-num">4</span>
                      </label>
                      <label>Intensity
                        <input id="ghosting-intensity" type="range" min="0" max="1" step="0.05" value="0.5" />
                        <span class="range-value" data-for="ghosting-intensity">0.5</span>
                      </label>
                    </div>
                  </label>
                  <label class="transform-row" data-name="RandomSpike">
                    <input type="checkbox" id="spike-enabled" />
                    <span>RandomSpike</span>
                    <span class="transform-params">num_spikes=1 · intensity=1.0</span>
                    <div class="transform-inputs">
                      <label>Spikes
                        <input id="spike-num" type="range" min="1" max="5" step="1" value="1" />
                        <span class="range-value" data-for="spike-num">1</span>
                      </label>
                      <label>Intensity
                        <input id="spike-intensity" type="range" min="0" max="2" step="0.1" value="1.0" />
                        <span class="range-value" data-for="spike-intensity">1.0</span>
                      </label>
                    </div>
                  </label>
                  <label class="transform-row" data-name="RandomSwap">
                    <input type="checkbox" id="swap-enabled" />
                    <span>RandomSwap</span>
                    <span class="transform-params">patch_size=15 · num_iterations=100</span>
                    <div class="transform-inputs">
                      <label>Patch size
                        <input id="swap-patch" type="range" min="5" max="30" step="1" value="15" />
                        <span class="range-value" data-for="swap-patch">15</span>
                      </label>
                      <label>Iterations
                        <input id="swap-iterations" type="range" min="10" max="200" step="10" value="100" />
                        <span class="range-value" data-for="swap-iterations">100</span>
                      </label>
                    </div>
                  </label>
                </div>
              </details>
              <details class="accordion" open>
                <summary>Intensity</summary>
                <div class="accordion-body" data-group="intensity">
                  <label class="transform-row" data-name="RandomNoise">
                    <input type="checkbox" id="noise-enabled" />
                    <span>RandomNoise</span>
                    <span class="transform-params">mean=0 · std=0.1</span>
                    <div class="transform-inputs">
                      <label>Mean
                        <input id="noise-mean" type="range" min="-1" max="1" step="0.05" value="0.0" />
                        <span class="range-value" data-for="noise-mean">0.0</span>
                      </label>
                      <label>Std
                        <input id="noise-std" type="range" min="0" max="1" step="0.05" value="0.1" />
                        <span class="range-value" data-for="noise-std">0.1</span>
                      </label>
                    </div>
                  </label>
                  <label class="transform-row" data-name="RandomGamma">
                    <input type="checkbox" id="gamma-enabled" />
                    <span>RandomGamma</span>
                    <span class="transform-params">log_gamma=±0.3</span>
                    <div class="transform-inputs">
                      <label>Log gamma min
                        <input id="gamma-min" type="range" min="-1" max="0" step="0.05" value="-0.3" />
                        <span class="range-value" data-for="gamma-min">-0.3</span>
                      </label>
                      <label>Log gamma max
                        <input id="gamma-max" type="range" min="0" max="1" step="0.05" value="0.3" />
                        <span class="range-value" data-for="gamma-max">0.3</span>
                      </label>
                    </div>
                  </label>
                  <label class="transform-row" data-name="RandomBiasField">
                    <input type="checkbox" id="bias-enabled" />
                    <span>RandomBiasField</span>
                    <span class="transform-params">coefficients=0.5 · order=3</span>
                    <div class="transform-inputs">
                      <label>Coefficients
                        <input id="bias-coefficients" type="range" min="0" max="1" step="0.1" value="0.5" />
                        <span class="range-value" data-for="bias-coefficients">0.5</span>
                      </label>
                      <label>Order
                        <input id="bias-order" type="range" min="1" max="5" step="1" value="3" />
                        <span class="range-value" data-for="bias-order">3</span>
                      </label>
                    </div>
                  </label>
                  <label class="transform-row" data-name="RandomBlur">
                    <input type="checkbox" id="blur-enabled" />
                    <span>RandomBlur</span>
                    <span class="transform-params">std=0–2</span>
                    <div class="transform-inputs">
                      <label>Std min
                        <input id="blur-min" type="range" min="0" max="5" step="0.1" value="0" />
                        <span class="range-value" data-for="blur-min">0</span>
                      </label>
                      <label>Std max
                        <input id="blur-max" type="range" min="0" max="5" step="0.1" value="2" />
                        <span class="range-value" data-for="blur-max">2</span>
                      </label>
                    </div>
                  </label>
                </div>
              </details>
              <div class="control">
                <button class="button button-outline" id="export-config">Export config</button>
                <button class="button button-outline" id="copy-config">Copy config</button>
              </div>
            </div>
          </div>
        </div>
        <div class="column">
          <div class="column-header">
            <h3>Augmentation preview</h3>
          </div>
          <div class="panel-slot panel-large">
            <img id="preview-image" class="preview-image is-hidden" alt="Augmentation preview" />
            <div class="preview-placeholder" id="preview-placeholder">Preview appears here</div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <script type="module" src="/static/js/app.js"></script>
</body>

</html>
