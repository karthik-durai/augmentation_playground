<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Augmentation Playground</title>
  <link rel="stylesheet" href="/static/css/styles.css" />
</head>

<body>
  <main class="page">
    <div class="topbar">
      <header class="hero">
        <p class="eyebrow">Augmentation Playground</p>
      </header>

      <section class="picker-card">
        <div class="uploader uploader-compact">
          <input id="file-input" type="file" accept=".nii,.nii.gz,application/gzip,application/octet-stream" />
          <label for="file-input" class="button">Choose file</label>
          <span class="file-meta" id="file-meta">No file selected.</span>
        </div>
      </section>
    </div>

    <section class="workspace">
      <div class="workspace-grid">
        <div class="column">
          <div class="column-header">
            <h3>Selected image</h3>
            <div class="status" id="viewer-status">Awaiting image</div>
          </div>
          <div class="control-group">
            <h4>View</h4>
            <div class="control">
              <label for="axis-select">Axis</label>
              <select id="axis-select">
                <option value="axial" selected>Axial</option>
                <option value="coronal">Coronal</option>
                <option value="sagittal">Sagittal</option>
              </select>
            </div>
            <div class="control">
              <label for="slice-range">Slice <span id="slice-value">0</span></label>
              <input id="slice-range" type="range" min="0" max="0" value="0" />
            </div>
          </div>
          <div class="panel-slot panel-large">
            <canvas id="canvas-selected" width="1200" height="520"></canvas>
          </div>
        </div>
        <div class="column">
          <div class="column-header">
            <h3>Augmentation controls</h3>
          </div>
          <div class="panel-slot panel-large">
            <div class="controls">
              <details class="accordion" open>
                <summary>Spatial</summary>
                <div class="accordion-body" data-group="spatial">
                  <label class="transform-row" data-name="RandomFlip">
                    <input type="checkbox" id="flip-enabled" />
                    <span>RandomFlip</span>
                    <span class="transform-params">axes=lr · p=0.5</span>
                  </label>
                  <label class="transform-row" data-name="RandomAffine">
                    <input type="checkbox" id="affine-enabled" />
                    <span>RandomAffine</span>
                    <span class="transform-params">scales=0.9–1.1 · degrees=10</span>
                  </label>
                  <label class="transform-row" data-name="RandomElasticDeformation">
                    <input type="checkbox" id="elastic-enabled" />
                    <span>RandomElasticDeformation</span>
                    <span class="transform-params">control_points=7 · max_displacement=7</span>
                  </label>
                  <label class="transform-row" data-name="RandomAnisotropy">
                    <input type="checkbox" id="anisotropy-enabled" />
                    <span>RandomAnisotropy</span>
                    <span class="transform-params">axes=2 · downsampling=2</span>
                  </label>
                  <label class="transform-row" data-name="RandomMotion">
                    <input type="checkbox" id="motion-enabled" />
                    <span>RandomMotion</span>
                    <span class="transform-params">degrees=10 · translation=10</span>
                  </label>
                  <label class="transform-row" data-name="RandomGhosting">
                    <input type="checkbox" id="ghosting-enabled" />
                    <span>RandomGhosting</span>
                    <span class="transform-params">num_ghosts=4 · intensity=0.5</span>
                  </label>
                  <label class="transform-row" data-name="RandomSpike">
                    <input type="checkbox" id="spike-enabled" />
                    <span>RandomSpike</span>
                    <span class="transform-params">num_spikes=1 · intensity=1.0</span>
                  </label>
                  <label class="transform-row" data-name="RandomSwap">
                    <input type="checkbox" id="swap-enabled" />
                    <span>RandomSwap</span>
                    <span class="transform-params">patch_size=15 · num_iterations=100</span>
                  </label>
                </div>
              </details>
              <details class="accordion" open>
                <summary>Intensity</summary>
                <div class="accordion-body" data-group="intensity">
                  <label class="transform-row" data-name="RandomNoise">
                    <input type="checkbox" id="noise-enabled" />
                    <span>RandomNoise</span>
                    <span class="transform-params">mean=0 · std=0.1</span>
                  </label>
                  <label class="transform-row" data-name="RandomGamma">
                    <input type="checkbox" id="gamma-enabled" />
                    <span>RandomGamma</span>
                    <span class="transform-params">log_gamma=±0.3</span>
                  </label>
                  <label class="transform-row" data-name="RandomBiasField">
                    <input type="checkbox" id="bias-enabled" />
                    <span>RandomBiasField</span>
                    <span class="transform-params">coefficients=0.5 · order=3</span>
                  </label>
                  <label class="transform-row" data-name="RandomBlur">
                    <input type="checkbox" id="blur-enabled" />
                    <span>RandomBlur</span>
                    <span class="transform-params">std=0–2</span>
                  </label>
                </div>
              </details>
              <div class="control">
                <button class="button button-outline" id="export-config">Export config</button>
                <button class="button button-outline" id="copy-config">Copy config</button>
              </div>
            </div>
          </div>
        </div>
        <div class="column">
          <div class="column-header">
            <h3>Augmentation preview</h3>
          </div>
          <div class="panel-slot panel-large">
            <img id="preview-image" class="preview-image is-hidden" alt="Augmentation preview" />
            <div class="preview-placeholder" id="preview-placeholder">Preview appears here</div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <script type="module" src="/static/js/app.js"></script>
</body>

</html>
